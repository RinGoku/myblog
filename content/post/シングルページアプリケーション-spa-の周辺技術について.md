---
title: シングルページアプリケーション(SPA)の周辺技術について
description: シングルページアプリケーション(SPA)を実現するための周辺技術についてご紹介します
date: 2019-02-25T13:06:10.633Z
thumbnail: /images/uploads/thin.png
categories:
  - Web
  - 技術紹介
tags:
  - 技術紹介
  - SPA
---
## はじめに
<a href="https://elated-blackwell-51e103.netlify.com/post/%E3%82%B7%E3%83%B3%E3%82%B0%E3%83%AB%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3spa%E3%81%A8%E3%81%AF/">前回の記事</a>でシングルページアプリケーション(SPA)の概要について解説しました。<br>
今回はシングルページアプリケーションを支える周辺技術について通信方法とサーバーサイドアーキテクチャの観点から解説しようと思います。<br>

## Ajax

Ajaxは「Asynchronous JAvaScript + XML」の略です。日本語にすると、「JavaScriptとXMLを用いてサーバーへ非同期通信を行う」ということになります。
では非同期通信とは何でしょうか。同期通信との差異にスポットを当てて解説させていただきます。

### 同期通信
サーバーにWebページ全体(HTML)を要求する。<br>
ブラウザからWebサーバーにリクエストを発行してからレスポンスが返ってくるまで、画面は固まってしまい操作できない。<br>
→　ひとつのリクエストを発行してレスポンスが返ってくるまで、新規にリクエストを発行することはできない

### 非同期通信
サーバーに必要な情報のみを要求する。<br>
ブラウザからWebサーバーにリクエストを発行してからレスポンスが返ってくるまでの間でも、画面は操作可能。<br>
→　ひとつのリクエストを発行してレスポンスが返ってくるまでの間にも、新規にリクエストを発行することができる

これによって、例えば検索ボックスに文字列を入力して検索ボタンを押して検索するという操作を文字列が入力されるたびに検索を行って検索結果を更新していく（インクリメンタルサーチ）現在のWebサイトでもよく見る手法を実現することができるようになりました。<br>
AjaxはGoogle Mapの地図情報の読み込み処理やGoogle検索のサジェストに用いられたことをきっかけにWebには欠かせない技術として普及しました。

### シングルページアプリケーションをどう支えているか

シングルページアプリケーションは画面遷移を、サーバーから取得したデータを使い、JavaScriptでDOMを操作することで行うことは<a href="https://elated-blackwell-51e103.netlify.com/post/%E3%82%B7%E3%83%B3%E3%82%B0%E3%83%AB%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3spa%E3%81%A8%E3%81%AF/">前回の記事</a>で解説しました。<br>
従来の同期通信ではサーバーにWebページ(HTML)を要求し、取得したHTMLで画面全体を再描画してしまうため、シングルページアプリケーションを実現するためにはAjaxによる非同期通信は必須となります。<br>
Ajaxはシングルページアプリケーションの根幹をなす技術なのです。

## Thin Server Architecture

Thin Server Architectureとはどんなアーキテクチャなのか、これも従来のサーバーサイドアーキテクチャと比較することで解説させていただきたいと思います。

### 従来のアーキテクチャ
<img src="/images/uploads/MVC.png" />

言わずとしれたMVC(Model・View・Controller)です。<br>
最終的にはHTMLを作成してレスポンスとして返却します。つまりView処理はサーバーサイドが担っていることになります。

### Thin Server Architecture

<img src="/images/uploads/thin.png" />

従来のサーバーサイドのアーキテクチャからView処理を切り出し、フロントエンドでView処理を行うようにするアーキテクチャです。<br>
サーバーサイドは要求に対して、クライアントが必要なデータを単純に返却する、API的な役割をするようになります。<br>

これによって以下のメリットを享受することができます。<br>

・サーバサイドの開発者がView処理のことを気にせず、ビジネスロジックに集中することができる<br>
・フロントエンドとサーバーサイドを切り離して開発することが可能になる(疎結合になる)<br>

### シングルページアプリケーションをどう支えているか
シングルページアプリケーションは画面遷移や画面の部分更新といったView処理をJavaScriptで行います。そして、そのView処理内で必要な情報があった場合にサーバーに対してAPI的にデータを要求します。<br>
この処理方式を実現するためには、従来のようにサーバー側でView処理をするのではなく、View処理はサーバーサイドの世界から切り離して考える必要があります。まさにThin Server Architectureはこれを実現するためのアーキテクチャです。<br>

## おわりに
今回はシングルページアプリケーションを支える2つの技術について紹介しました。<br>
もちろん他にもシングルページアプリケーションを支えている技術はたくさんあります(RESTとかWebSocketとか...)。<br>
その中でも今回触れなかったもうひとつの根幹、JavaScriptフレームワークについて次回解説したいと思います。
